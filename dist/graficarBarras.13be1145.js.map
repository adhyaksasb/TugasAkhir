{"version":3,"sources":["graficarBarras.js"],"names":["graficarBarras","quien","ancho","alto","vector","rotulo","legenda","myParam","miMargen","separZonas","elMaxY","tituloGraf","tituloEjeX","tituloEjeY","nLineasDiv","mysColores","myVector","myRotulo","myLegenda","establecer_valores","establecer_parametros","arrancaGraficar","param","anchoLinea","rectangulo","x","y","canvas","document","getElementById","getContext","ctx","console","log","drawImage","strokeStyle","lineWidth","strokeRect","font","fillStyle","measureText","width","margenTexto","fillText","save","translate","rotate","Math","PI","restore","zonas","calcular_zonas","alert","calcular_max","calcular_y_dibujar_lineas_div_vert_y_escala","calcular_y_dibujar_serie","e","message","long","i","length","separacion","anchoZona","anchoBarra","j","altoBarra","beginPath","xi","yi","moveTo","lineTo","linGradiente","createLinearGradient","addColorStop","closePath","stroke","fillRect","margenTexto2","linGradiente2","mayor","agregar","max","floor","intervaloEjeY","n"],"mappings":"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","file":"graficarBarras.13be1145.js","sourceRoot":"..","sourcesContent":["/**\n * Script para hacer gr&aacute;ficos de barras, hecho para \n * sustituir a JPGraph\n * @author rsalcedo\n */\nfunction graficarBarras(quien,ancho,alto,vector,rotulo,legenda,myParam) {\n\t///////////////Parámetros a cambiar, variables globales\n\tvar miMargen = 0.70;//80%\n\tvar separZonas = 0.05;//5%\n\tvar elMaxY = 0;\n\tvar tituloGraf = \"Ejecutado Vs Esperado\";\n\tvar tituloEjeX = \"Complejo\";\n\tvar tituloEjeY = \"Fuerza Labor\";\n\tvar nLineasDiv = 10;\n\tvar mysColores =[\n\t                 [\"rgba(171,115,51,1)\",\"rgba(251,163,1,1)\"],//amarillos\n\t                 [\"rgba(93,18,18,1)\",\"rgba(196,19,24,1)\"],//,   //rojos\n\t                 [\"rgba(37,94,43,1)\",\"rgba(18,152,30,1)\"], //verdes\n\t                 [\"rgba(0,10,93,1)\",\"rgba(0,0,247,1)\"], //azules\n\t                 [\"rgba(93,93,93,1)\",\"rgba(150,150,150,1)\"], //grises\n\t                ];\n\tvar myVector=[\n\t              //[1685,734,278,1582],[1521,509,210,1344]//,[1521,509,210,1344]\n\t             ];\n\tvar myRotulo=[\n\t              //\"AMC\", \"Corporativo\", \"Jose\", \"Morón\"\n\t             ];\n\tvar myLegenda=[\n\t               //\"Esperado\",\"Ejecutado\"//,\"Calculado\"\n\t              ];\n\t\n\t///////////////\n\testablecer_valores(vector,rotulo,legenda);\n\testablecer_parametros(myParam);\n\tarrancaGraficar(quien,ancho,alto);\n\t/**\n\t * Modifica las variables globales de la funci&oacute;n madre\n\t */\n\tfunction establecer_parametros(param) {\n\t\tif(param){\n\t\t\tif(param.miMargen)\n\t\t\t\tmiMargen=param.miMargen;\n\t\t\tif(param.separZonas)\n\t\t\t\tseparZonas=param.separZonas;\n\t\t\tif(param.tituloGraf)\n\t\t\t\ttituloGraf=param.tituloGraf;\n\t\t\tif(param.tituloEjeX)\n\t\t\t\ttituloEjeX=param.tituloEjeX;\n\t\t\tif(param.tituloEjeY)\n\t\t\t\ttituloEjeY=param.tituloEjeY;\n\t\t\tif(param.mysColores)\n\t\t\t\tmysColores=param.mysColores;\n\t\t\tif(param.anchoLinea)\n\t\t\t\tanchoLinea=param.anchoLinea;\n\t\t\tif(param.nLineasDiv)\n\t\t\t\tnLineasDiv=param.nLineasDiv;\n\t\t}\n\t}\n\t/**\n\t * Establece los par&aacute;metros a graficar\n\t */\n\tfunction establecer_valores(vector,rotulo,legenda) {\n\t\tmyVector = vector;\n\t\tmyRotulo = rotulo;\n\t\tmyLegenda = legenda;\n\t}\n\t\n\t\n\t/**\n\t * Dibuja el rect&aacute;ngulo interno donde se va a graficar,\n\t * escribe el t&iacute;tulo del gr&aacute;fico, de los ejes y \n\t * coloca la imagen de fondo\n\t * @param quien, id del canvas donde se va a dibujar\n\t * @param x, ancho\n\t * @param y, alto\n\t */\n\tfunction rectangulo(quien,x,y) {\n\t\tvar canvas = document.getElementById(quien);\n\t\n\t\tif (canvas.getContext) {\n\t\t\tvar ctx = canvas.getContext('2d');\n\t\t\tif(!document.getElementById(\"myFondo\"))\n\t\t\t\tconsole.log(\"No se encuentra imagen de fondo.\");\n\t\t\telse//imagen de fondo\n\t\t\t\tctx.drawImage(document.getElementById(\"myFondo\"), ((1-miMargen)/2)*x, ((1-miMargen)/2)*y,miMargen*x,miMargen*y);\n\t\t\tctx.strokeStyle = \"rgba(190,190,190,1)\";\n\t\t\tctx.lineWidth = 0.5;\n\t\t\tctx.strokeRect(((1-miMargen)/2)*x,((1-miMargen)/2)*y,miMargen*x,miMargen*y);\n\t\t}\n\t\t// escribir título del gráfico\n\t\tctx.font = \"10pt monospace\";\n\t\tctx.fillStyle = \"rgba(150,150,150,1)\";//sombrita\n\t\tif(x > ctx.measureText(tituloGraf).width)\n\t\t\tmargenTexto = ( x - ctx.measureText(tituloGraf).width ) /2;\n\t\telse\n\t\t\tmargenTexto = 0;\n\t\tctx.fillText(tituloGraf, margenTexto+2, 0 + 14, x-2);\n\t\tctx.fillStyle = \"rgba(0,0,0,1)\";\n\t\tctx.fillText(tituloGraf, margenTexto+1, 0 + 15, x-2);\n\t\t// escribir título del eje x\n\t\tctx.font = \"bold 10pt monospace\";\n\t\tctx.fillStyle = \"rgba(0,0,0,1)\";\n\t\tmargenTexto = x - ctx.measureText(tituloEjeX).width - 2;\n\t\tctx.fillText(tituloEjeX, margenTexto, ((1-miMargen)/2)*y + miMargen*y + 30, y);\n\t\t// escribir título del eje Y\n\t\tctx.save();\n\t\tctx.translate(10, y/2);\n\t\tctx.rotate(3*(Math.PI/180)*90);\n\t\tctx.font = \"bold 10pt monospace\";\n\t\tctx.fillStyle = \"rgba(0,0,0,1)\";\n\t\tmargenTexto = y - ctx.measureText(tituloEjeY).width - 2;\n\t\tctx.fillText(tituloEjeY, 0, 10 );\n\t\tctx.restore();\n\t}\n\t/**\n\t * Arranca el porceso de graficar, es como un main\n\t * @param quien, id del canvas donde se va a dibujar\n\t * @param ancho\n\t * @param alto\n\t */\n\tfunction arrancaGraficar(quien,ancho,alto) {\n\t\ttry {\n\t\t\trectangulo(quien,ancho,alto);\n\t\t\tzonas = calcular_zonas(myVector);\n\t\t\tif(zonas==0) {\n\t\t\t\talert(\"Inconsistencia en los datos de entrada!\\nLos Vectores no son del mismo tama\\u00F1o\");\n\t\t\t\tthrow \"Los Vectores no son del mismo tamaño\";\n\t\t\t}\n\t\t\telMaxY = calcular_max(myVector,alto);\n\t\t\tcalcular_y_dibujar_lineas_div_vert_y_escala(quien,elMaxY,ancho,alto);\n\t\t\tcalcular_y_dibujar_serie(quien,myVector,zonas,ancho,alto,myRotulo);\n\t\t} catch (e) {\n\t\t\tconsole.log(\"Algo salió mal: \"+e.message);\n\t\t}\n\t}\n\t/**\n\t * Calcula las zonas para graficar, deben ser consistentes con\n\t * los datos a graficar\n\t * @param myVector, array de los datos a graficar\n\t * @returns {Number}\n\t */\n\tfunction calcular_zonas(myVector) {\n\t\tvar long=0;\n\t\tfor (var i = 0; i < myVector.length; i++) {\n\t\t\tlong=myVector[i].length;\n\t\t\tif (i>0 && myVector[i].length!=myVector[i-1].length) {\n\t\t\t\tlong=0;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn long;\n\t}\n\t/**\n\t * Dibuja las columnas, con sus correspondientes valores\n\t * @param quien, id del canvas donde se va a dibujar\n\t * @param myVector, array de los datos a graficar\n\t * @param zonas\n\t * @param x, ancho\n\t * @param y, alto\n\t * @param myRotulo, array con el nombre de las categorías \n\t */\n\tfunction calcular_y_dibujar_serie(quien,myVector,zonas,x,y,myRotulo) {\n\t\tvar separacion = separZonas*miMargen*x;\n\t\tvar canvas = document.getElementById(quien);\n\t\tvar anchoZona = ( miMargen*x  ) / zonas;\n\t\tvar anchoBarra = (anchoZona - separacion) / myVector.length ;\n\t\tif(anchoBarra < 0) {\n\t\t\talert(\"Cambie el margen y la separaci\\u00F3n, el gr\\u00E1fico no tiene espacio para mostrarse\");\n\t\t\tthrow \"El ancho de la barra es negativo, cambie el margen y la separación\";\n\t\t}\n\t \tif (canvas.getContext) \n\t\t\tvar ctx = canvas.getContext('2d');\n\t \t\n\t\tfor (var i = 0; i < myVector.length; i++) {\n\t\t\tfor (var j = 0; j < myVector[i].length; j++) {\n\t\t\t\taltoBarra = myVector[i][j] / elMaxY;\n\t\t\t\t//otra forma\n\t\n\t\t\t\tctx.beginPath();\n\t\n\t\t\t\txi = ((1-miMargen)/2)*x + separacion/2 + anchoZona*j + anchoBarra*i;\n\t\t\t\tyi = ((1-miMargen)/2)*y + miMargen*y;\n\t\t\t\tctx.moveTo(xi              , yi);\n\t\t\t\tctx.lineTo(xi + anchoBarra , yi);\n\t\t\t\tctx.lineTo(xi + anchoBarra , yi - altoBarra*miMargen*y);\n\t\t\t\tctx.lineTo(xi              , yi - altoBarra*miMargen*y);\n\t\t\t\t\n\t\t\t\t//escribir los textos de los valores\n\t\t\t\tctx.font = \"8pt monospace\";\n\t\t\t\tctx.fillStyle = \"rgba(0,0,0,1)\";\n\t\t\t\tmargenTexto = (anchoBarra - ctx.measureText(myVector[i][j]).width)/2;\n\t\t\t\tctx.fillText(myVector[i][j], xi + margenTexto, yi - altoBarra*miMargen*y - 2, anchoBarra);\n\t\t\t\t//escribiendo los rótulos de categorias\n\t\t\t\tif(i==0){//sóĺo una vez\n\t\t\t\t\tmargenTexto = (anchoBarra*myVector.length - ctx.measureText(myRotulo[j]).width)/2;\n\t\t\t\t\tctx.fillText(myRotulo[j], xi + margenTexto, yi + 14, anchoZona);\t\n\t\t\t\t}\n\t\n\t\t\t\t//pintura\n\t\t\t\tif(i==0){\n\t\t\t\t\tctx.strokeStyle = \"rgba(225,165,0,1)\";\n\t\t\t\t}else{\n\t\t\t\t\tctx.strokeStyle = \"rgba(200,20,25,1)\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar linGradiente = ctx.createLinearGradient(xi,yi,xi + anchoBarra,yi);\n\t\t\t\tlinGradiente.addColorStop(0   ,mysColores[i][0]);\n\t\t\t\tlinGradiente.addColorStop(0.45,mysColores[i][1]);\n\t\t\t\tlinGradiente.addColorStop(0.55,mysColores[i][1]);\n\t\t\t\tlinGradiente.addColorStop(1   ,mysColores[i][0]);\n\t\t\t\t\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.stroke();\n\t\t\t\t\n\t\t\t\tctx.fillStyle = linGradiente;\n\t\t\t\tctx.fillRect(xi,yi,anchoBarra,-altoBarra*miMargen*y);\n\t\t\t\tctx.strokeRect(xi,yi,anchoBarra,-altoBarra*miMargen*y);\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t// escribir la leyenda\n\t\t\tif(myLegenda[i]!='.'){//escribir un . evita la escritura de la leyenda\n\t\t\t\tif(i==0){\n\t\t\t\t\tmargenTexto2 = 0;\n\t\t\t\t}else{\n\t\t\t\t\tmargenTexto2 = margenTexto2 + ctx.measureText(myLegenda[i-1]).width + 30;\n\t\t\t\t}\n\t\t\t\tvar linGradiente2 = ctx.createLinearGradient(((1-miMargen)/2)*x + margenTexto2,y-60, ((1-miMargen)/2)*x + margenTexto2 +12,y-60);\n\t\t\t\tlinGradiente2.addColorStop(0   ,mysColores[i][0]);\n\t\t\t\tlinGradiente2.addColorStop(0.45,mysColores[i][1]);\n\t\t\t\tlinGradiente2.addColorStop(0.55,mysColores[i][1]);\n\t\t\t\tlinGradiente2.addColorStop(1   ,mysColores[i][0]);\n\t\t\t\tctx.fillStyle = linGradiente2;\n\t\t\t\tctx.fillRect( ((1-miMargen)/2)*x + margenTexto2, y-30, 12, 12);//y-30=((1-miMargen)/2)*y + miMargen*y + 18\n\t\t\t\t\n\t\t\t\tctx.font = \"italic 8pt monospace\";\n\t\t\t\tctx.fillStyle = \"rgba(0,0,0,1)\";\n\t\t\t\tctx.fillText(myLegenda[i], ((1-miMargen)/2)*x + margenTexto2 + 14 , y-20, y);\n\t\t\t}\n\t\t}\n\t}\n\t/**\n\t * \n\t * @param myVector, array de los datos a graficar\n\t * @param y, alto\n\t * @returns {Number}\n\t */\n\tfunction calcular_max(myVector,y) {\n\t\tvar mayor = 0;\n\t\tvar agregar = 0;\n\t\tvar max = 0;\n\t\tfor (var i = 0; i < myVector.length; i++) {\n\t\t\tfor (var j = 0; j < myVector[i].length; j++) {\n\t\t\t\tif (myVector[i][j] > mayor) {\n\t\t\t\t\tmayor = myVector[i][j];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tmax = mayor*(1+15/(miMargen*y));//1.0385;\n\t\tagregar = 10 - ( max - Math.floor(max/10)*10 );\n\t\tmax = max + agregar;// 15 es el alto de la fuente\n\t\t//console.log(max)\n\t\treturn max;\n\t}\n\t/**\n\t * Dibuja las lineas de divisi&oacute;n verticales, que realmente \n\t * son lineas horizontales, y los valores de la escala\n\t * @param quien, id del canvas donde se va a dibujar\n\t * @param max, el máximo valor a graficar\n\t * @param x, ancho\n\t * @param y, alto\n\t */\n\tfunction calcular_y_dibujar_lineas_div_vert_y_escala(quien,max,x,y) {\n\t\tvar intervaloEjeY = 0;\n\t\tvar canvas = document.getElementById(quien);\n\t \tif (canvas.getContext) \n\t\t\tvar ctx = canvas.getContext('2d');\n\t\tif(nLineasDiv != 0)\n\t\t\tintervaloEjeY = max / nLineasDiv;\n\t\n\t\tfor (var n = 0; n <= nLineasDiv; n++) {\n\t\t\t//console.log(intervaloEjeY*n/max)\n\t\t\tctx.beginPath();\n\t\t\tctx.strokeStyle = \"rgba(190,190,190,1)\";\n\t\t\tctx.moveTo( ((1-miMargen)/2)*x - 4          , ((1-miMargen)/2)*y + miMargen*y - (intervaloEjeY*n/max)*miMargen*y);\n\t\t\tctx.lineTo( ((1-miMargen)/2)*x + miMargen*x , ((1-miMargen)/2)*y + miMargen*y - (intervaloEjeY*n/max)*miMargen*y);\n\t\t\tctx.closePath();\n\t\t\tctx.stroke();\n\t\t\t//escribir los textos de los valores de las lineas de división del eje Y\n\t\t\tctx.font = \"8pt monospace\";\n\t\t\tctx.fillStyle = \"rgba(0,0,0,1)\";\n\t\t\tmargenTexto =  ctx.measureText(intervaloEjeY*n).width + 2 ;\n\t\t\tctx.fillText(intervaloEjeY*n, ((1-miMargen)/2)*x - 5  - margenTexto, ((1-miMargen)/2)*y + miMargen*y - (intervaloEjeY*n/max)*miMargen*y + 3) ;\n\t\t}\n\t}\n\n}"]}